<div style="position: relative">
	<ngx-ui-loader [loaderId]="'loader-01'"> </ngx-ui-loader>
</div>
<div *ngIf="res">
	<div class="text-center" *ngIf="res.id != 0">
		<p>
			<b>
				le terme
			</b>
			:
			{{ message }}</p>
		<p>
			<b>id :
				{{ res.id }}
			</b>
		</p>
		<p>
			<b>
				poids
			</b>
			:
			{{res.poids}}</p>
		<!-- <p> <b> type </b> : <b> id </b> : {{res.type.id}}, <b>nom </b>: {{res.type.nom}} </p> -->
	</div>


	<div class="row">
		<div class="col-xs-3 mb-1">
			<div *ngIf="res.definition?.length > 0">
				<button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#demo">Show
					definitions</button>

			</div>
		</div>

		<div class="col-xs-3" *ngIf="res.rafDefinitions?.length > 0">
			<button type="button" class="btn btn-primary ml-1" data-toggle="collapse" data-target="#demo2">Raffinement
				sémantique detected !</button>


		</div>
	</div>

	<div id="demo2" class="collapse mt-2">
		<ul class="list-group" *ngFor="let raf_def of res.rafDefinitions">
			<li class="list-group-item">{{raf_def}}</li>
		</ul>
	</div>

	<div id="demo" class="collapse mt-2">
		<ul class="list-group" *ngFor="let def of res.definition">
			<li class="list-group-item">{{def}}</li>
		</ul>
	</div>

	<hr>

	<div *ngIf="res.definition?.length <= 0 && res.rafDefinitions?.length <=0">
		<div class="alert alert-primary">
			<strong>Aucune définition trouvée !
			</strong>
		</div>
	</div>

	<div class="row">

		<div class="col" *ngIf="no_relout == false">
			<div *ngIf="SortEmpty?.length == 0 || !SortEmpty; else noSort">
				<div class="alert alert-primary">
					<strong>Aucune relations sortantes trouvées !
					</strong>
				</div>
			</div>


			<h2>
				Relations Sortantes
			</h2>

			<hr>

			<div class="accordion" id="accordionExamples">

				<div class="card mb-3" *ngFor="let relationName of res.mapSortantesNames; let j = index">
					<div class="card-header" id="sheading_{{j}}">
						<h2 class="mb-0">
							<button class="btn btn-link" type="button" data-toggle="collapse"
								attr.data-target="#scollapse_{{j}}" aria-expanded="false"
								attr.aria-controls="scollapse_{{j}}">
								Relation :
								{{relationName}} : ({{res.mapSortantes[relationName].length}})
							</button>
						</h2>
					</div>

					<div id="scollapse_{{j}}" class="collapse" attr.aria-labelledby="sheading_{{j}}"
						data-parent="#accordionExamples">
						<div class="card-body">
							<table class="table table-hover">
								<thead class="table-success">
									<tr>
										<th>Terme</th>
										<th>Poids</th>
									</tr>
								</thead>
								<tbody>
									<tr
										*ngFor="let relIn of res.mapSortantes[relationName] | slice: (pagesSortantes[relationName]-1) * 10 : (pagesSortantes[relationName]-1) * 10 + 10">
										<td (click)="NewSearch(relIn.noeud.nom)">
											<a href="#">{{relIn.noeud.nom}}
											</a>
										</td>
										<td>{{relIn.poids}}</td>
									</tr>
								</tbody>
							</table>

							<ngb-pagination [(page)]="pagesSortantes[relationName]" [pageSize]="10"
								[collectionSize]="res.mapSortantes[relationName].length" [maxSize]="10">
							</ngb-pagination>
						</div>
					</div>

				</div>

			</div>

		</div>

		<hr>

		<div class="col" *ngIf="no_relin == false">
			<div *ngIf="EnterEmpty === null || EnterEmpty.length == 0">
				<div class="alert alert-primary">
					<strong>Aucune relations entrantes trouvées !
					</strong>
				</div>
			</div>
			<div *ngIf="EnterEmpty !== null && EnterEmpty.length != 0">
				<h2>
					Relations Entrantes
				</h2>

				<hr>

				<div class="accordion" id="accordionExample">

					<div class="card mb-3" *ngFor="let relationName of res.mapEntrantesNames; let j = index">
						<div class="card-header" id="heading_{{j}}">
							<h2 class="mb-0">
								<button class="btn btn-link" type="button" data-toggle="collapse"
									attr.data-target="#collapse_{{j}}" aria-expanded="false"
									attr.aria-controls="collapse_{{j}}">
									Relation :
									{{relationName}} : ({{res.mapEntrantes[relationName].length}})
								</button>
							</h2>
						</div>

						<div id="collapse_{{j}}" class="collapse" attr.aria-labelledby="heading_{{j}}"
							data-parent="#accordionExample">
							<div class="card-body">
								<table class="table table-hover">
									<thead class="table-success">
										<tr>
											<th>Terme</th>
											<th>Poids</th>
										</tr>
									</thead>
									<tbody>
										<tr
											*ngFor="let relIn of res.mapEntrantes[relationName] | slice: (pages[relationName]-1) * 10 : (pages[relationName]-1) * 10 + 10">
											<td (click)="NewSearch(relIn.noeud.nom)">
												<a href="#">{{relIn.noeud.nom}}
												</a>
											</td>
											<td>{{relIn.poids}}</td>
										</tr>
									</tbody>
								</table>

								<ngb-pagination [(page)]="pages[relationName]" [pageSize]="10"
									[collectionSize]="res.mapEntrantes[relationName].length" [maxSize]="10">
								</ngb-pagination>
							</div>
						</div>

					</div>

				</div>

			</div>
		</div>

	</div>